{"componentChunkName":"component---src-templates-blog-post-js","path":"/svg/svg-editor-02/","result":{"data":{"site":{"siteMetadata":{"title":"yujolog","author":"yujo","siteUrl":"https://yujo11.github.io","comment":{"disqusShortName":"yujolog","utterances":"yujo11/yujo11.github.io"},"sponsor":{"buyMeACoffeeId":""}}},"markdownRemark":{"id":"d2bc294c-70e8-5508-860a-4c7e7049a704","excerpt":"0. 프로젝트 정보 서비스 링크 : https://zzimkkong.com/ 저장소 링크: https://github.com/woowacourse-teams/2021-zzimkkong 1. 에디터의 뼈대  에디터를 작성하기 위해 먼저 에디터의 모양을 생각해야 했습니다. 논의 끝에 저희는 양쪽 끝에 여러 도구들을 사용할 수 있는 Toolbar…","html":"<h2 id=\"0-프로젝트-정보\" style=\"position:relative;\"><a href=\"#0-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EC%A0%95%EB%B3%B4\" aria-label=\"0 프로젝트 정보 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>0. 프로젝트 정보</h2>\n<ul>\n<li>서비스 링크 : <a href=\"https://zzimkkong.com/\">https://zzimkkong.com/</a></li>\n<li>저장소 링크: <a href=\"https://github.com/woowacourse-teams/2021-zzimkkong\">https://github.com/woowacourse-teams/2021-zzimkkong</a></li>\n</ul>\n<h2 id=\"1-에디터의-뼈대\" style=\"position:relative;\"><a href=\"#1-%EC%97%90%EB%94%94%ED%84%B0%EC%9D%98-%EB%BC%88%EB%8C%80\" aria-label=\"1 에디터의 뼈대 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. 에디터의 뼈대</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1104px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 64.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAECBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAe21Qg//xAAZEAADAAMAAAAAAAAAAAAAAAAAAREQMUH/2gAIAQEAAQUC4qImFr//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAWEAADAAAAAAAAAAAAAAAAAAAAICH/2gAIAQEABj8CKv8A/8QAGxAAAgEFAAAAAAAAAAAAAAAAABEBECExQWH/2gAIAQEAAT8hWiZAMCOrCpf/2gAMAwEAAgADAAAAEPDP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGhABAAIDAQAAAAAAAAAAAAAAAQARITFRkf/aAAgBAQABPxCzodJczGuigCbq7FGrvET19hTJttzP/9k='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"bone\"\n        title=\"bone\"\n        src=\"/static/3442dd397622017b864cc1c83e5b21c7/7bc57/bone.jpg\"\n        srcset=\"/static/3442dd397622017b864cc1c83e5b21c7/f93b5/bone.jpg 300w,\n/static/3442dd397622017b864cc1c83e5b21c7/b4294/bone.jpg 600w,\n/static/3442dd397622017b864cc1c83e5b21c7/7bc57/bone.jpg 1104w\"\n        sizes=\"(max-width: 1104px) 100vw, 1104px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>에디터를 작성하기 위해 먼저 에디터의 모양을 생각해야 했습니다. 논의 끝에 저희는 양쪽 끝에 여러 도구들을 사용할 수 있는 Toolbar들을 두고 가운데 영역을 도구들을 사용해 그릴 영역으로 지정하였습니다.</p>\n<p>그릴 영역은 사용자가 그리기 편하도록 모눈종이 모양을 채택했습니다. 이를 구현하기 위해 <code class=\"language-text\">&lt;defs&gt;</code>, <code class=\"language-text\">&lt;pattern&gt;</code>,<code class=\"language-text\">&lt;g&gt;</code>, <code class=\"language-text\">&lt;rect&gt;</code> 등을 이용했습니다.</p>\n<blockquote>\n<ul>\n<li>\n<p>SVG 간단 설명</p>\n<ul>\n<li><code class=\"language-text\">&lt;defs&gt;</code>: 나중에 사용할 SVG 객체를 미리 정의 해 놓을 수 있다.</li>\n<li><code class=\"language-text\">&lt;pattern&gt;</code>: 영역을 덮기 위해 반복되는 좌표들을 저장할 수 있다.</li>\n<li><code class=\"language-text\">&lt;g&gt;</code>: SVG 요소들을 그룹화 하기 위해 사용</li>\n<li><code class=\"language-text\">&lt;rect&gt;</code>: 사각형을 그리기 위해 사용한다.</li>\n</ul>\n</li>\n</ul>\n</blockquote>\n<p>코드로 간단하게 나타내면 아래와 같은 형태로 작성하였습니다.(svg의 속성들까지 모두 작성하면 코드가 너무 길어져 간단하게만 작성하였습니다.)</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>svg</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>defs</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>pattern</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>pattern<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n     </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>rect</span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>pattern</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>defs</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>g</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>use</span> <span class=\"token attr-name\">fill</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>url(#pattern)<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>g</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>svg</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>이렇게 하여 다음과 같은 에디터를 그릴 수 있는 뼈대를 완성할 수 있었습니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 80.66666666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAs0lEQVQ4y+2UyQ6DMAxE8/9/yRZCFJqF3rK42JAKVRRBhHoq0mgiYB7jA2Zt20PTcKjrbhYvVEcMZDE8cC5ASgXDoMivKGf6XhKUIV2pB6SUIIQwK278WDEu72LWuYmavoH5YYluBB423Bt5O3r46r8a+d/wvobho8XevZMNvb/ezntPWWs3wHHUgBd+6YrmxOoA0/RcgPhDCyHBGAtal8kYRwuClkNeX1XVrSvsvHImO7JeNa3TPph+6cQAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"board\"\n        title=\"board\"\n        src=\"/static/5f7ba11363efcbb083e50200620967f6/c1b63/board.png\"\n        srcset=\"/static/5f7ba11363efcbb083e50200620967f6/5a46d/board.png 300w,\n/static/5f7ba11363efcbb083e50200620967f6/0a47e/board.png 600w,\n/static/5f7ba11363efcbb083e50200620967f6/c1b63/board.png 1200w,\n/static/5f7ba11363efcbb083e50200620967f6/d61c2/board.png 1800w,\n/static/5f7ba11363efcbb083e50200620967f6/7ca1f/board.png 1890w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<h2 id=\"2-선-그리기-기능\" style=\"position:relative;\"><a href=\"#2-%EC%84%A0-%EA%B7%B8%EB%A6%AC%EA%B8%B0-%EA%B8%B0%EB%8A%A5\" aria-label=\"2 선 그리기 기능 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. 선 그리기 기능</h2>\n<p>뼈대를 완성한 후 이제는 Toolbar에 들어갈 기능들을 하나 씩 만들기 시작했습니다.</p>\n<p>먼저, 가장 기본적인 형태의 선을 그릴 수 있는 기능을 만들었습니다. 선은 추후 확장성을 생각하여 <code class=\"language-text\">&lt;line&gt;</code> 태그가 아닌 <code class=\"language-text\">&lt;polyline&gt;</code> 태그를 사용하였습니다.</p>\n<p>선을 그릴 때 사용자가 모눈 에서 위치를 제대로 잡을 수 있도록 하기 위해 마우스 포인터의 움직임을 트래킹하여 점 모양으로 현재의 마우스 포인터 위치를 표시해 주었습니다.</p>\n<p>해당 포인터는 현재 마우스의 좌표를 받아서 사용했는대 다음과 같은 식을 통해 간단하게 현재 마우스 포인터의 위치를 잡을 수 있었습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// coordinate = 마우스의 좌표</span>\n\n<span class=\"token keyword\">const</span> stickyDotCoordinate<span class=\"token operator\">:</span> Coordinate <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  x<span class=\"token operator\">:</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">round</span><span class=\"token punctuation\">(</span>coordinate<span class=\"token punctuation\">.</span>x <span class=\"token operator\">/</span> <span class=\"token constant\">EDITOR</span><span class=\"token punctuation\">.</span><span class=\"token constant\">GRID_SIZE</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token constant\">EDITOR</span><span class=\"token punctuation\">.</span><span class=\"token constant\">GRID_SIZE</span><span class=\"token punctuation\">,</span>\n  y<span class=\"token operator\">:</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">round</span><span class=\"token punctuation\">(</span>coordinate<span class=\"token punctuation\">.</span>y <span class=\"token operator\">/</span> <span class=\"token constant\">EDITOR</span><span class=\"token punctuation\">.</span><span class=\"token constant\">GRID_SIZE</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token constant\">EDITOR</span><span class=\"token punctuation\">.</span><span class=\"token constant\">GRID_SIZE</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><img src=\"/f7788c2d8be19c1b89d5c3a6eb3ae13a/sticky.gif\"></p>\n<p>이제 마우스의 움직임에 따른 위치까지 구현하였으니 본격적으로 선을 그리는 기능을 구현해야 했습니다.</p>\n<p>선을 그리는 방식은 여러 에디터들을 참고하여 드래그 앤 드랍의 형식으로 그릴 수 있게 구현했습니다.</p>\n<p><code class=\"language-text\">mouseDown</code> 이벤트를 통해 선을 그리기 시작하면 <code class=\"language-text\">mouseMove</code> 이벤트를 통해 선을 그리고, <code class=\"language-text\">mouseUp</code> 이벤트를 통해 선을 그리기를 종료하는 사이클로 구현했습니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1021px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 57.00000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAECAwX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAHasgDEH//EABYQAAMAAAAAAAAAAAAAAAAAAAEQIP/aAAgBAQABBQJGP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABUQAQEAAAAAAAAAAAAAAAAAABEg/9oACAEBAAY/Amv/xAAYEAEBAQEBAAAAAAAAAAAAAAABADERIf/aAAgBAQABPyFEYemyR263W3b/2gAMAwEAAgADAAAAEAPP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGxAAAwADAQEAAAAAAAAAAAAAAAERIVFhMYH/2gAIAQEAAT8QVLvW/BIOvjpAJjFLjQlKJxcRtkz/2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"draw event\"\n        title=\"draw event\"\n        src=\"/static/31d1492db9301a9e2d48eb10d9e8cc4e/66a2c/draw-event.jpg\"\n        srcset=\"/static/31d1492db9301a9e2d48eb10d9e8cc4e/f93b5/draw-event.jpg 300w,\n/static/31d1492db9301a9e2d48eb10d9e8cc4e/b4294/draw-event.jpg 600w,\n/static/31d1492db9301a9e2d48eb10d9e8cc4e/66a2c/draw-event.jpg 1021w\"\n        sizes=\"(max-width: 1021px) 100vw, 1021px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>이 때, 사용자가 완성될 선의 모양을 미리 볼 수 있도록 <code class=\"language-text\">mouseDown</code>이후 <code class=\"language-text\">mouseMove</code> 이벤트가 발생할 때 임시로 <code class=\"language-text\">&lt;polyline&gt;</code>을 그려서 보여주는 기능 역시 함께 구현 했습니다.</p>\n<p><img src=\"/9973d10d0d7cd6ac71621db896ac6404/line.gif\"></p>\n<h2 id=\"3-사각형-그리기-기능\" style=\"position:relative;\"><a href=\"#3-%EC%82%AC%EA%B0%81%ED%98%95-%EA%B7%B8%EB%A6%AC%EA%B8%B0-%EA%B8%B0%EB%8A%A5\" aria-label=\"3 사각형 그리기 기능 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. 사각형 그리기 기능</h2>\n<p>이제 사용자는 선을 통해 원하는 이미지를 구현할 수 있게 되었습니다. 평면도를 그릴 때 선만큼이나 많이 사용되는 것이 사각형이라고 생각했기 때문에 다음으로 사각형을 그리는 기능을 구현 했습니다.</p>\n<p>사각형은 <code class=\"language-text\">&lt;rect&gt;</code>를 통해 그리도록 구현했습니다. 먼저 에디터 상에서 <code class=\"language-text\">&lt;rect&gt;</code>를 그리는 주요 속성들을 살펴 보면 x, y 좌표와 width, height가 존재 합니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1189px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 55.666666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAIBBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAC/9oADAMBAAIQAxAAAAHtZSVin//EABcQAQEBAQAAAAAAAAAAAAAAAAEAESD/2gAIAQEAAQUCbXgv/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFREBAQAAAAAAAAAAAAAAAAAAARD/2gAIAQIBAT8BRn//xAAVEAEBAAAAAAAAAAAAAAAAAAABIP/aAAgBAQAGPwIr/8QAGhABAAIDAQAAAAAAAAAAAAAAAQARECExgf/aAAgBAQABPyF0ou18nd1COOJ//9oADAMBAAIAAwAAABC/z//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABcRAQADAAAAAAAAAAAAAAAAAAEQESH/2gAIAQIBAT8QQ41H/8QAHBABAAMAAgMAAAAAAAAAAAAAAQARITFBUZGx/9oACAEBAAE/EEYKhq0IVI0OlqbG29ibTEHhIB4PU+k//9k='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"rect\"\n        title=\"rect\"\n        src=\"/static/e2ea039e536ece1f5c315e4296570682/c5e37/rect.jpg\"\n        srcset=\"/static/e2ea039e536ece1f5c315e4296570682/f93b5/rect.jpg 300w,\n/static/e2ea039e536ece1f5c315e4296570682/b4294/rect.jpg 600w,\n/static/e2ea039e536ece1f5c315e4296570682/c5e37/rect.jpg 1189w\"\n        sizes=\"(max-width: 1189px) 100vw, 1189px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>사용자로부터 주어지는 정보는 시작 지점과 끝나는 지점의 좌표 두 가지였습니다. 이 두가지 정보를 이용하여 <code class=\"language-text\">&lt;rect&gt;</code>의 x, y, width, height 정보를 얻어야 했고, 이 정보들을 이용하여 <code class=\"language-text\">&lt;rect&gt;</code>를 그리기 위해 다음과 같은 로직을 사용하였습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> width <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">abs</span><span class=\"token punctuation\">(</span>startPoint<span class=\"token punctuation\">.</span>x <span class=\"token operator\">-</span> endPoint<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> height <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">abs</span><span class=\"token punctuation\">(</span>startPoint<span class=\"token punctuation\">.</span>y <span class=\"token operator\">-</span> endPoint<span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>width <span class=\"token operator\">||</span> <span class=\"token operator\">!</span>height<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>line\n      points<span class=\"token operator\">=</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>startPoint<span class=\"token punctuation\">.</span>x<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">,</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>startPoint<span class=\"token punctuation\">.</span>y<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span> `$<span class=\"token punctuation\">{</span>endPoint<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>$<span class=\"token punctuation\">{</span>endPoint<span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">}</span>\n    <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>rect</span>\n      <span class=\"token attr-name\">x</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">min</span><span class=\"token punctuation\">(</span>startPoint<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">,</span> endPoint<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span>\n      <span class=\"token attr-name\">y</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">min</span><span class=\"token punctuation\">(</span>startPoint<span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">,</span> endPoint<span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span>\n      <span class=\"token attr-name\">width</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>width<span class=\"token punctuation\">}</span></span>\n      <span class=\"token attr-name\">height</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>height<span class=\"token punctuation\">}</span></span>\n    <span class=\"token punctuation\">/></span></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>또한, 사각형 역시 사용자가 완성된 사각형의 모습을 예상할 수 있도록 좌표에 따라 임시로 <code class=\"language-text\">&lt;rect&gt;</code>를 생성하여 보여주는 기능을 구현했습니다.</p>\n<p><img src=\"/c1908987025b5ad261177c82dddf4879/rect-draw.gif\"></p>\n<h2 id=\"4-마치며\" style=\"position:relative;\"><a href=\"#4-%EB%A7%88%EC%B9%98%EB%A9%B0\" aria-label=\"4 마치며 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. 마치며</h2>\n<p>에디터의 뼈대를 구성하는 부분, 선과 사각형 그리기 기능을 구현한 부분에 대해서 정리해봤습니다. 모든 코드를 옮기기에는 내용이 너무 방대해질거 같아 구현하면서 쓰인 핵심 로직들에 대한 코드만 간단하게 옮겼습니다.</p>\n<p>전체 코드가 궁금하신 분들께서는 아래 저장소를 방문해 확인하실 수 있습니다.</p>\n<ul>\n<li>저장소 링크: <a href=\"https://github.com/woowacourse-teams/2021-zzimkkong\">https://github.com/woowacourse-teams/2021-zzimkkong</a></li>\n</ul>","frontmatter":{"title":"SVG 기반의 에디터 프로젝트 개발기 - 2. 맵 에디터의 뼈대 잡기 + 선, 사각형 그리기 기능","date":"October 29, 2021"}}},"pageContext":{"slug":"/svg/svg-editor-02/","previous":{"fields":{"slug":"/우아한테크코스/[우테코]레벨4-글쓰기미션/"},"frontmatter":{"title":"[우테코]레벨4 글쓰기 미션 - 내가 꿈꾸는 프로그래머로서의 삶","category":"우아한 테크코스","draft":false}},"next":null}},"staticQueryHashes":["1282858476","3128451518"]}